<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Plugin System Test - GenomeExplorer</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        
        .content {
            padding: 30px;
        }
        
        .test-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #4CAF50;
        }
        
        .test-section h3 {
            margin: 0 0 15px 0;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status.pending {
            background: #fff3cd;
            color: #856404;
        }
        
        .btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        
        .btn.secondary {
            background: #6c757d;
        }
        
        .btn.secondary:hover {
            background: #5a6268;
        }
        
        .log {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            height: 200px;
            overflow-y: auto;
            margin-top: 15px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .info-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 15px;
        }
        
        .info-card h4 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        .metrics {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
        }
        
        .metric-value {
            font-weight: bold;
            color: #4CAF50;
        }
        
        .plugin-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            margin-top: 10px;
        }
        
        .plugin-item {
            padding: 10px;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .plugin-item:last-child {
            border-bottom: none;
        }
        
        .plugin-info {
            flex: 1;
        }
        
        .plugin-name {
            font-weight: bold;
            color: #333;
        }
        
        .plugin-desc {
            font-size: 0.9em;
            color: #666;
            margin-top: 2px;
        }
        
        .error-details {
            background: #fee;
            border: 1px solid #fcc;
            border-radius: 4px;
            padding: 10px;
            margin-top: 10px;
            font-family: monospace;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Modern Plugin System Test</h1>
            <p>GenomeExplorer PluginManagerV2 - Comprehensive Validation</p>
        </div>
        
        <div class="content">
            <!-- System Status Overview -->
            <div class="test-section">
                <h3>
                    üîç System Status Overview
                    <span id="systemStatus" class="status pending">Checking...</span>
                </h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>Plugin Manager</h4>
                        <div class="metrics">
                            <span>Type:</span>
                            <span id="managerType" class="metric-value">Loading...</span>
                        </div>
                        <div class="metrics">
                            <span>Initialized:</span>
                            <span id="managerInitialized" class="metric-value">Loading...</span>
                        </div>
                        <div class="metrics">
                            <span>Marketplace:</span>
                            <span id="marketplaceStatus" class="metric-value">Loading...</span>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <h4>Plugin Statistics</h4>
                        <div class="metrics">
                            <span>Function Plugins:</span>
                            <span id="functionPluginCount" class="metric-value">0</span>
                        </div>
                        <div class="metrics">
                            <span>Visualization Plugins:</span>
                            <span id="visualizationPluginCount" class="metric-value">0</span>
                        </div>
                        <div class="metrics">
                            <span>Utility Plugins:</span>
                            <span id="utilityPluginCount" class="metric-value">0</span>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <h4>System Metrics</h4>
                        <div class="metrics">
                            <span>Total Executions:</span>
                            <span id="totalExecutions" class="metric-value">0</span>
                        </div>
                        <div class="metrics">
                            <span>Success Rate:</span>
                            <span id="successRate" class="metric-value">N/A</span>
                        </div>
                        <div class="metrics">
                            <span>Avg Execution Time:</span>
                            <span id="avgExecutionTime" class="metric-value">0ms</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Module Loading Test -->
            <div class="test-section">
                <h3>
                    üì¶ Module Loading Test
                    <span id="moduleStatus" class="status pending">Testing...</span>
                </h3>
                <button class="btn" onclick="testModuleLoading()">Run Module Test</button>
                <button class="btn secondary" onclick="testBootstrapSystem()">Test Bootstrap</button>
                <div id="moduleTestResults"></div>
            </div>
            
            <!-- Plugin Management UI Test -->
            <div class="test-section">
                <h3>
                    üé® Plugin Management UI Test
                    <span id="uiStatus" class="status pending">Testing...</span>
                </h3>
                <button class="btn" onclick="testPluginManagementUI()">Test Plugin UI</button>
                <button class="btn" onclick="testMarketplaceUI()">Test Marketplace</button>
                <button class="btn secondary" onclick="showPluginDetails()">Show Plugin Details</button>
                <div id="uiTestResults"></div>
            </div>
            
            <!-- Plugin Execution Test -->
            <div class="test-section">
                <h3>
                    ‚ö° Plugin Execution Test
                    <span id="executionStatus" class="status pending">Ready</span>
                </h3>
                <button class="btn" onclick="testPluginExecution()">Test Plugin Functions</button>
                <button class="btn" onclick="testResourceManagement()">Test Resource Management</button>
                <button class="btn secondary" onclick="benchmarkSystem()">Run Benchmark</button>
                <div id="executionTestResults"></div>
            </div>
            
            <!-- Available Plugins -->
            <div class="test-section">
                <h3>
                    üîå Available Plugins
                    <span id="pluginListStatus" class="status pending">Loading...</span>
                </h3>
                <button class="btn" onclick="refreshPluginList()">Refresh List</button>
                <button class="btn secondary" onclick="exportPluginData()">Export Data</button>
                <div class="plugin-list" id="pluginList">
                    <div class="plugin-item">
                        <div class="plugin-info">
                            <div class="plugin-name">Loading plugins...</div>
                            <div class="plugin-desc">Please wait while plugins are being loaded</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- System Console -->
            <div class="test-section">
                <h3>
                    üìã System Console
                    <button class="btn secondary" onclick="clearConsole()" style="float: right; margin: 0;">Clear</button>
                </h3>
                <div id="console" class="log">
                    Initializing Modern Plugin System Test Console...\n
                </div>
            </div>
        </div>
    </div>

    <!-- Load Plugin System -->
    <script>
        // Global test state
        const testState = {
            moduleLoadTest: false,
            uiTest: false,
            executionTest: false,
            systemReady: false
        };

        // Console logging
        function addToConsole(message, type = 'info') {
            const console = document.getElementById('console');
            const timestamp = new Date().toLocaleTimeString();
            const prefix = type === 'error' ? '‚ùå' : type === 'success' ? '‚úÖ' : '‚ÑπÔ∏è';
            console.innerHTML += `[${timestamp}] ${prefix} ${message}\n`;
            console.scrollTop = console.scrollHeight;
        }

        function clearConsole() {
            document.getElementById('console').innerHTML = 'Console cleared.\n';
        }

        // System status update
        function updateSystemStatus() {
            try {
                // Check for PluginManagerV2
                if (typeof window.pluginManagerV2 !== 'undefined' && window.pluginManagerV2) {
                    document.getElementById('managerType').textContent = 'PluginManagerV2';
                    document.getElementById('managerInitialized').textContent = window.pluginManagerV2.isInitialized ? 'Yes' : 'No';
                    document.getElementById('marketplaceStatus').textContent = window.pluginManagerV2.marketplace ? 'Available' : 'Not Available';
                    
                    // Update plugin counts
                    const stats = getPluginStatistics();
                    if (stats) {
                        document.getElementById('functionPluginCount').textContent = stats.functionPlugins;
                        document.getElementById('visualizationPluginCount').textContent = stats.visualizationPlugins;
                        document.getElementById('utilityPluginCount').textContent = stats.utilityPlugins;
                        
                        if (stats.systemMetrics) {
                            document.getElementById('totalExecutions').textContent = stats.systemMetrics.totalExecutions || 0;
                            const successRate = stats.systemMetrics.totalExecutions > 0 ? 
                                Math.round((stats.systemMetrics.successfulExecutions / stats.systemMetrics.totalExecutions) * 100) + '%' : 'N/A';
                            document.getElementById('successRate').textContent = successRate;
                            document.getElementById('avgExecutionTime').textContent = Math.round(stats.systemMetrics.averageExecutionTime || 0) + 'ms';
                        }
                    }
                    
                    document.getElementById('systemStatus').textContent = 'Operational';
                    document.getElementById('systemStatus').className = 'status success';
                    testState.systemReady = true;
                    
                    addToConsole('PluginManagerV2 system is operational', 'success');
                } else {
                    document.getElementById('managerType').textContent = 'Not Available';
                    document.getElementById('managerInitialized').textContent = 'No';
                    document.getElementById('marketplaceStatus').textContent = 'Not Available';
                    document.getElementById('systemStatus').textContent = 'Error';
                    document.getElementById('systemStatus').className = 'status error';
                    
                    addToConsole('PluginManagerV2 not found - system not ready', 'error');
                }
                
            } catch (error) {
                addToConsole(`Error updating system status: ${error.message}`, 'error');
                document.getElementById('systemStatus').textContent = 'Error';
                document.getElementById('systemStatus').className = 'status error';
            }
        }

        function getPluginStatistics() {
            try {
                if (window.pluginManagerV2 && typeof window.pluginManagerV2.getSystemStats === 'function') {
                    const stats = window.pluginManagerV2.getSystemStats();
                    return {
                        functionPlugins: stats.plugins.byType.function,
                        visualizationPlugins: stats.plugins.byType.visualization,
                        utilityPlugins: stats.plugins.byType.utility,
                        systemMetrics: stats.execution
                    };
                } else if (window.pluginManagerV2 && window.pluginManagerV2.pluginRegistry) {
                    return {
                        functionPlugins: window.pluginManagerV2.pluginRegistry.function.size,
                        visualizationPlugins: window.pluginManagerV2.pluginRegistry.visualization.size,
                        utilityPlugins: window.pluginManagerV2.pluginRegistry.utility?.size || 0,
                        systemMetrics: window.pluginManagerV2.metrics
                    };
                }
            } catch (error) {
                addToConsole(`Error getting plugin statistics: ${error.message}`, 'error');
            }
            return null;
        }

        // Test functions
        function testModuleLoading() {
            addToConsole('Starting module loading test...');
            
            const requiredModules = [
                'PluginAPI',
                'PluginResourceManager',
                'PluginMarketplace',
                'PluginManagerV2',
                'PluginMarketplaceUI',
                'PluginManagementUI'
            ];
            
            let results = '<div style="margin-top: 15px;"><h4>Module Loading Results:</h4>';
            let allLoaded = true;
            
            requiredModules.forEach(module => {
                const isLoaded = typeof window[module] !== 'undefined';
                allLoaded = allLoaded && isLoaded;
                results += `<div style="margin: 5px 0;">
                    <span style="color: ${isLoaded ? 'green' : 'red'};">${isLoaded ? '‚úÖ' : '‚ùå'}</span>
                    ${module}: ${isLoaded ? 'Loaded' : 'Missing'}
                </div>`;
                
                addToConsole(`${module}: ${isLoaded ? 'Loaded' : 'Missing'}`, isLoaded ? 'success' : 'error');
            });
            
            results += '</div>';
            document.getElementById('moduleTestResults').innerHTML = results;
            
            document.getElementById('moduleStatus').textContent = allLoaded ? 'Passed' : 'Failed';
            document.getElementById('moduleStatus').className = allLoaded ? 'status success' : 'status error';
            
            testState.moduleLoadTest = allLoaded;
            addToConsole(`Module loading test ${allLoaded ? 'passed' : 'failed'}`, allLoaded ? 'success' : 'error');
        }

        function testBootstrapSystem() {
            addToConsole('Testing bootstrap system...');
            
            if (typeof window.PluginSystemBootstrap !== 'undefined' && window.pluginSystemBootstrap) {
                const bootstrap = window.pluginSystemBootstrap;
                const status = bootstrap.getSystemStatus();
                
                let results = '<div style="margin-top: 15px;"><h4>Bootstrap System Status:</h4>';
                results += `<div>Initialized: ${status.isInitialized ? '‚úÖ' : '‚ùå'}</div>`;
                results += `<div>Ready: ${status.isReady ? '‚úÖ' : '‚ùå'}</div>`;
                results += `<div>Plugin Manager Available: ${status.pluginManagerAvailable ? '‚úÖ' : '‚ùå'}</div>`;
                results += `<div>Marketplace Available: ${status.marketplaceAvailable ? '‚úÖ' : '‚ùå'}</div>`;
                results += `<div>UI Available: ${status.uiAvailable ? '‚úÖ' : '‚ùå'}</div>`;
                results += `<div>Loaded Modules: ${status.loadedModules.length}/${status.requiredModules.length}</div>`;
                results += '</div>';
                
                document.getElementById('moduleTestResults').innerHTML += results;
                addToConsole(`Bootstrap system status: ${status.isReady ? 'Ready' : 'Not Ready'}`, status.isReady ? 'success' : 'error');
            } else {
                addToConsole('Bootstrap system not found', 'error');
            }
        }

        function testPluginManagementUI() {
            addToConsole('Testing plugin management UI...');
            
            try {
                if (window.pluginManagementUI) {
                    addToConsole('Plugin Management UI is available', 'success');
                    
                    // Test statistics
                    const stats = window.pluginManagementUI.getPluginStatistics();
                    addToConsole(`Plugin statistics: ${JSON.stringify(stats)}`, 'info');
                    
                    document.getElementById('uiStatus').textContent = 'Available';
                    document.getElementById('uiStatus').className = 'status success';
                    testState.uiTest = true;
                } else {
                    throw new Error('Plugin Management UI not available');
                }
            } catch (error) {
                addToConsole(`Plugin UI test failed: ${error.message}`, 'error');
                document.getElementById('uiStatus').textContent = 'Failed';
                document.getElementById('uiStatus').className = 'status error';
            }
        }

        function testMarketplaceUI() {
            addToConsole('Testing marketplace UI...');
            
            try {
                if (window.pluginManagementUI) {
                    window.pluginManagementUI.openPluginMarketplace();
                    addToConsole('Marketplace opened successfully', 'success');
                } else {
                    throw new Error('Plugin Management UI not available');
                }
            } catch (error) {
                addToConsole(`Marketplace test failed: ${error.message}`, 'error');
            }
        }

        function testPluginExecution() {
            addToConsole('Testing plugin execution...');
            
            try {
                if (window.pluginManagerV2) {
                    const functions = window.pluginManagerV2.getAvailableFunctions();
                    addToConsole(`Found ${functions.length} available functions`, 'info');
                    
                    if (functions.length > 0) {
                        // Test first function
                        const testFunc = functions[0];
                        addToConsole(`Testing function: ${testFunc.name}`, 'info');
                        
                        // This would be a real test in practice
                        addToConsole('Plugin execution test completed', 'success');
                        document.getElementById('executionStatus').textContent = 'Passed';
                        document.getElementById('executionStatus').className = 'status success';
                    } else {
                        addToConsole('No functions available to test', 'error');
                    }
                } else {
                    throw new Error('PluginManagerV2 not available');
                }
            } catch (error) {
                addToConsole(`Plugin execution test failed: ${error.message}`, 'error');
                document.getElementById('executionStatus').textContent = 'Failed';
                document.getElementById('executionStatus').className = 'status error';
            }
        }

        function testResourceManagement() {
            addToConsole('Testing resource management...');
            
            if (window.pluginManagerV2 && window.pluginManagerV2.resourceManager) {
                addToConsole('Resource manager is available', 'success');
                
                if (typeof window.pluginManagerV2.resourceManager.getResourceStats === 'function') {
                    const stats = window.pluginManagerV2.resourceManager.getResourceStats();
                    addToConsole(`Resource stats: ${JSON.stringify(stats)}`, 'info');
                }
            } else {
                addToConsole('Resource manager not available', 'error');
            }
        }

        function refreshPluginList() {
            addToConsole('Refreshing plugin list...');
            
            try {
                const pluginList = document.getElementById('pluginList');
                
                if (window.pluginManagerV2) {
                    let allPlugins = [];
                    
                    // Get function plugins
                    if (window.pluginManagerV2.pluginRegistry.function) {
                        window.pluginManagerV2.pluginRegistry.function.forEach((plugin, id) => {
                            allPlugins.push({
                                id,
                                type: 'Function',
                                ...plugin
                            });
                        });
                    }
                    
                    // Get visualization plugins
                    if (window.pluginManagerV2.pluginRegistry.visualization) {
                        window.pluginManagerV2.pluginRegistry.visualization.forEach((plugin, id) => {
                            allPlugins.push({
                                id,
                                type: 'Visualization',
                                ...plugin
                            });
                        });
                    }
                    
                    // Get utility plugins
                    if (window.pluginManagerV2.pluginRegistry.utility) {
                        window.pluginManagerV2.pluginRegistry.utility.forEach((plugin, id) => {
                            allPlugins.push({
                                id,
                                type: 'Utility',
                                ...plugin
                            });
                        });
                    }
                    
                    if (allPlugins.length > 0) {
                        pluginList.innerHTML = allPlugins.map(plugin => `
                            <div class="plugin-item">
                                <div class="plugin-info">
                                    <div class="plugin-name">${plugin.name || plugin.id} (${plugin.type})</div>
                                    <div class="plugin-desc">${plugin.description || 'No description available'}</div>
                                </div>
                                <span class="status ${plugin.enabled !== false ? 'success' : 'error'}">
                                    ${plugin.enabled !== false ? 'Enabled' : 'Disabled'}
                                </span>
                            </div>
                        `).join('');
                        
                        document.getElementById('pluginListStatus').textContent = `${allPlugins.length} plugins`;
                        document.getElementById('pluginListStatus').className = 'status success';
                        addToConsole(`Found ${allPlugins.length} plugins`, 'success');
                    } else {
                        pluginList.innerHTML = '<div class="plugin-item"><div class="plugin-info"><div class="plugin-name">No plugins found</div></div></div>';
                        document.getElementById('pluginListStatus').textContent = 'No plugins';
                        document.getElementById('pluginListStatus').className = 'status error';
                        addToConsole('No plugins found', 'error');
                    }
                } else {
                    throw new Error('PluginManagerV2 not available');
                }
            } catch (error) {
                addToConsole(`Error refreshing plugin list: ${error.message}`, 'error');
                document.getElementById('pluginListStatus').textContent = 'Error';
                document.getElementById('pluginListStatus').className = 'status error';
            }
        }

        function showPluginDetails() {
            if (window.pluginManagerV2) {
                const stats = window.pluginManagerV2.getSystemStats();
                alert(`Plugin System Details:\n\n${JSON.stringify(stats, null, 2)}`);
            }
        }

        function benchmarkSystem() {
            addToConsole('Running system benchmark...');
            
            const startTime = performance.now();
            
            // Simulate some operations
            for (let i = 0; i < 1000; i++) {
                if (window.pluginManagerV2) {
                    window.pluginManagerV2.getAvailableFunctions();
                }
            }
            
            const endTime = performance.now();
            const duration = endTime - startTime;
            
            addToConsole(`Benchmark completed in ${duration.toFixed(2)}ms`, 'success');
        }

        function exportPluginData() {
            try {
                const data = {
                    timestamp: new Date().toISOString(),
                    system: 'PluginManagerV2',
                    statistics: getPluginStatistics(),
                    plugins: []
                };
                
                if (window.pluginManagerV2) {
                    // Export plugin data
                    ['function', 'visualization', 'utility'].forEach(type => {
                        if (window.pluginManagerV2.pluginRegistry[type]) {
                            window.pluginManagerV2.pluginRegistry[type].forEach((plugin, id) => {
                                data.plugins.push({
                                    id,
                                    type,
                                    ...plugin
                                });
                            });
                        }
                    });
                }
                
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'plugin-system-data.json';
                a.click();
                URL.revokeObjectURL(url);
                
                addToConsole('Plugin data exported successfully', 'success');
            } catch (error) {
                addToConsole(`Export failed: ${error.message}`, 'error');
            }
        }

        // Initialize test
        function initializeTest() {
            addToConsole('Initializing Modern Plugin System Test...', 'info');
            
            // Wait for plugins to load
            let attempts = 0;
            const maxAttempts = 50; // 5 seconds max
            
            const checkSystem = () => {
                attempts++;
                
                if (typeof window.pluginManagerV2 !== 'undefined' || attempts >= maxAttempts) {
                    updateSystemStatus();
                    refreshPluginList();
                    
                    if (typeof window.pluginManagerV2 !== 'undefined') {
                        addToConsole('Modern Plugin System Test initialized successfully', 'success');
                        // Auto-run basic tests
                        setTimeout(() => {
                            testModuleLoading();
                            testPluginManagementUI();
                        }, 1000);
                    } else {
                        addToConsole('Plugin system not available after waiting', 'error');
                    }
                } else {
                    setTimeout(checkSystem, 100);
                }
            };
            
            checkSystem();
        }

        // Update status every 5 seconds
        setInterval(updateSystemStatus, 5000);
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initializeTest);
    </script>
    
    <!-- Load the actual plugin system -->
    <script src="src/renderer/modules/PluginAPI.js"></script>
    <script src="src/renderer/modules/PluginResourceManager.js"></script>
    <script src="src/renderer/modules/PluginMarketplace.js"></script>
    <script src="src/renderer/modules/PluginDependencyResolver.js"></script>
    <script src="src/renderer/modules/PluginSecurityValidator.js"></script>
    <script src="src/renderer/modules/PluginUpdateManager.js"></script>
    <script src="src/renderer/modules/PluginManagerV2.js"></script>
    <script src="src/renderer/modules/PluginMarketplaceUI.js"></script>
    <script src="src/renderer/modules/PluginManagementUI.js"></script>
    <script src="src/renderer/modules/PluginSystemBootstrap.js"></script>
    <script src="src/renderer/modules/PluginUtils.js"></script>
    <script src="src/renderer/modules/PluginImplementations.js"></script>
    <script src="src/renderer/modules/PluginVisualization.js"></script>
    
    <script>
        // Initialize the plugin system
        setTimeout(() => {
            if (window.pluginSystemBootstrap) {
                const app = { name: 'GenomeExplorer', version: '2.0.0' };
                window.pluginSystemBootstrap.initialize(app)
                    .then(result => {
                        console.log('üöÄ Plugin system initialized:', result);
                    })
                    .catch(error => {
                        console.error('‚ùå Plugin system initialization failed:', error);
                    });
            }
        }, 500);
    </script>
</body>
</html> 