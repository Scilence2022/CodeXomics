<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GenBank File Preview Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-weight: 300;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ecf0f1;
            border-radius: 8px;
            background: #f8f9fa;
        }
        
        .test-section h3 {
            margin-top: 0;
            color: #34495e;
        }
        
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: 500;
        }
        
        .status.pass {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.3);
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            font-size: 12px;
            margin: 10px 0;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .result-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #20c997;
        }
        
        .result-card h4 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        .file-icon {
            display: inline-block;
            width: 32px;
            height: 32px;
            border-radius: 4px;
            color: white;
            text-align: center;
            line-height: 32px;
            font-size: 10px;
            font-weight: bold;
            margin-right: 10px;
            background: #20c997;
        }
        
        .summary {
            background: linear-gradient(135deg, #20c997 0%, #17a2b8 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }
        
        .summary h3 {
            margin-top: 0;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß¨ GenBank File Preview Test</h1>
        
        <div class="test-section">
            <h3>üìã Test Overview</h3>
            <p>This test verifies that GenBank files (.gb, .gbk, .gbff) are properly recognized and previewable in the Project Manager.</p>
            <div class="status info">
                <strong>GenBank Format Support:</strong> GenBank files are structured text files containing DNA/RNA sequences with extensive annotation data including features, references, and metadata.
            </div>
        </div>

        <div class="test-section">
            <h3>‚úÖ Implementation Details</h3>
            
            <div class="result-card">
                <h4>1. File Type Configuration</h4>
                <p>GenBank format is configured in the fileTypes configuration:</p>
                <div class="code-block">'genbank': { 
  icon: 'GB', 
  color: '#20c997', 
  extensions: ['.gb', '.gbk', '.gbff'] 
}</div>
            </div>
            
            <div class="result-card">
                <h4>2. Preview Content</h4>
                <p>Sample GenBank preview content includes:</p>
                <ul>
                    <li><strong>LOCUS</strong> - Basic sequence information</li>
                    <li><strong>DEFINITION</strong> - Sequence description</li>
                    <li><strong>ACCESSION/VERSION</strong> - Database identifiers</li>
                    <li><strong>SOURCE</strong> - Organism and taxonomy</li>
                    <li><strong>REFERENCE</strong> - Literature citations</li>
                    <li><strong>FEATURES</strong> - Sequence annotations</li>
                    <li><strong>ORIGIN</strong> - DNA sequence data</li>
                </ul>
            </div>
            
            <div class="result-card">
                <h4>3. File Icons and Recognition</h4>
                <p>GenBank files display with proper icons:</p>
                <div style="margin: 10px 0;">
                    <span class="file-icon">GB</span> genome.gb
                </div>
                <div style="margin: 10px 0;">
                    <span class="file-icon">GB</span> plasmid.gbk
                </div>
                <div style="margin: 10px 0;">
                    <span class="file-icon">GB</span> sequence.gbff
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>üîç Test Instructions</h3>
            <div class="status info">
                <strong>Manual Testing Steps:</strong>
                <ol>
                    <li>Open the Project Manager</li>
                    <li>Create a new test project or use existing project</li>
                    <li>Add GenBank files (.gb, .gbk, .gbff) to the project</li>
                    <li>Verify GenBank files display with "GB" icon and teal color</li>
                    <li>Double-click or use preview button (üëÅÔ∏è) on a GenBank file</li>
                    <li>Verify the preview modal shows structured GenBank content</li>
                    <li>Check that the preview includes all standard GenBank sections</li>
                </ol>
            </div>
        </div>

        <div class="test-section">
            <h3>üìÑ Expected GenBank Preview Content</h3>
            <div class="code-block">LOCUS       SAMPLE_GENE             1000 bp    DNA     linear   BCT 01-JAN-2024
DEFINITION  Sample bacterial gene sequence for GenBank preview.
ACCESSION   SAMPLE001
VERSION     SAMPLE001.1
KEYWORDS    .
SOURCE      Sample organism
  ORGANISM  Sample organism
            Bacteria; Sample phylum; Sample class; Sample order; Sample family;
            Sample genus.
REFERENCE   1  (bases 1 to 1000)
  AUTHORS   Sample,A. and Example,B.
  TITLE     Sample gene from sample organism
  JOURNAL   Sample Journal 1 (1), 1-10 (2024)
FEATURES             Location/Qualifiers
     source          1..1000
                     /organism="Sample organism"
                     /mol_type="genomic DNA"
     gene            100..900
                     /gene="sampleGene"
                     /product="sample protein"
     CDS             100..900
                     /gene="sampleGene"
                     /codon_start=1
                     /product="sample protein"
                     /translation="MKTAYIAKQRQISFVKSHFSRQLEERLGLIEVQAPILSRVGDGTQL..."
ORIGIN
        1 atgcgatcga tcgatcgatc gatcgatcga tcgatcgatc gatcgatcga tcgatcgatc
       61 gatcgatcga tcgatcgatc gatcgatcga tcgatcgatc gatcgatcga tcgatcgatc
      121 atgaaatcta ccgcatatat cgcaaaacag cgacaaatta tcttcgttaa atctcatttc
      181 tctcgccaac ttgaagaacg acttggactc attgaagtac aagctccaat ccttctctct
      241 cgtgtaggag atggaacact tcagttggaa tctcgttatg gcatggatga actatacaaa
      301 taaagctagc tagctagcta gctagctagc tagctagcta gctagctagc tagctagcta
      361 gctagctagc tagctagcta gctagctagc tagctagcta gctagctagc tagctagcta
      421 gctagctagc tagctagcta gctagctagc tagctagcta gctagctagc tagctagcta
      481 gctagctagc tagctagcta gctagctagc tagctagcta gctagctagc tagctagcta
      541 gctagctagc tagctagcta gctagctagc tagctagcta gctagctagc tagctagcta
      601 gctagctagc tagctagcta gctagctagc tagctagcta gctagctagc tagctagcta
      661 gctagctagc tagctagcta gctagctagc tagctagcta gctagctagc tagctagcta
      721 gctagctagc tagctagcta gctagctagc tagctagcta gctagctagc tagctagcta
      781 gctagctagc tagctagcta gctagctagc tagctagcta gctagctagc tagctagcta
      841 gctagctagc tagctagcta gctagctagc tagctagcta gctagctagc tagctagcta
      901 gctagctagc tagctagcta gctagctagc tagctagcta gctagctagc tagctagcta
      961 gctagctagc tagctagcta gctagctagc tagctagcta
//</div>
        </div>

        <div class="test-section">
            <h3>üéØ Benefits of GenBank Preview Support</h3>
            <div class="results-grid">
                <div class="result-card">
                    <h4>‚úÖ Format Recognition</h4>
                    <p>Automatic detection of GenBank files by extension (.gb, .gbk, .gbff)</p>
                </div>
                
                <div class="result-card">
                    <h4>‚úÖ Structured Preview</h4>
                    <p>Displays authentic GenBank format with all standard sections</p>
                </div>
                
                <div class="result-card">
                    <h4>‚úÖ Visual Identification</h4>
                    <p>Clear "GB" icon with distinctive teal color for easy recognition</p>
                </div>
                
                <div class="result-card">
                    <h4>‚úÖ Consistent Interface</h4>
                    <p>Same preview experience as other supported file types</p>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>üìã Additional Features</h3>
            <div class="status pass">
                <strong>Test Project Enhancement:</strong> The createTestProject() function now includes sample GenBank files:
                <ul style="margin: 10px 0;">
                    <li><strong>genome.gb</strong> - 8KB sample genome file</li>
                    <li><strong>plasmid.gbk</strong> - 3KB sample plasmid file</li>
                </ul>
                These provide immediate testing examples when creating test projects.
            </div>
        </div>

        <div class="summary">
            <h3>üìã Implementation Summary</h3>
            <p><strong>Status:</strong> ‚úÖ GenBank file preview support successfully implemented</p>
            <p><strong>Supported Extensions:</strong> .gb, .gbk, .gbff</p>
            <p><strong>Features:</strong> File type detection, structured preview content, proper visual styling</p>
            <p><strong>Integration:</strong> Seamlessly integrated with existing Project Manager preview system</p>
        </div>
    </div>
</body>
</html>
