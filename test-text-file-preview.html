<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Text File Preview and Edit Features</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
            color: #333;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .test-section h2 {
            color: #34495e;
            margin-top: 0;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .test-result {
            margin: 15px 0;
            padding: 15px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 14px;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e3e3e3;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .feature-card h3 {
            color: #667eea;
            margin-top: 0;
        }
        
        .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .status.ready {
            background: #d4edda;
            color: #155724;
        }
        
        .status.pending {
            background: #fff3cd;
            color: #856404;
        }
        
        textarea {
            width: 100%;
            height: 200px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            resize: vertical;
        }
        
        .demo-content {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
            border: 1px solid #e9ecef;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß¨ Project Manager: Text File Preview & Edit Test Suite</h1>
        
        <div class="test-section">
            <h2>‚ú® New Features Overview</h2>
            <div class="feature-list">
                <div class="feature-card">
                    <h3>üìÑ Text File Preview</h3>
                    <p>Advanced text file preview with multiple viewing modes:</p>
                    <ul>
                        <li>Full file preview</li>
                        <li>Head (first 100 lines)</li>
                        <li>Tail (last 100 lines)</li>
                        <li>Custom line range</li>
                        <li>Multiple encoding support</li>
                        <li>Line numbers display</li>
                        <li>Syntax highlighting for bioinformatics formats</li>
                    </ul>
                    <span class="status ready">Ready</span>
                </div>
                
                <div class="feature-card">
                    <h3>‚úèÔ∏è Text File Editing</h3>
                    <p>Simple but powerful text editing capabilities:</p>
                    <ul>
                        <li>In-place text editing</li>
                        <li>Real-time change tracking</li>
                        <li>Save/Revert functionality</li>
                        <li>Cursor position tracking</li>
                        <li>Tab support with smart indentation</li>
                        <li>Keyboard shortcuts (Ctrl+S, Ctrl+Z, Esc)</li>
                    </ul>
                    <span class="status ready">Ready</span>
                </div>
                
                <div class="feature-card">
                    <h3>üóÇÔ∏è File Management</h3>
                    <p>Comprehensive file operations:</p>
                    <ul>
                        <li>File renaming with inline editing</li>
                        <li>File duplication</li>
                        <li>Context menu operations</li>
                        <li>Bulk file operations</li>
                        <li>File path copying</li>
                        <li>Show in Explorer integration</li>
                        <li>File download/export</li>
                    </ul>
                    <span class="status ready">Ready</span>
                </div>
                
                <div class="feature-card">
                    <h3>üîÑ File System Sync</h3>
                    <p>Real-time file system synchronization:</p>
                    <ul>
                        <li>File metadata updates</li>
                        <li>Change detection</li>
                        <li>Project file integrity</li>
                        <li>Cross-platform file operations</li>
                        <li>Error handling and recovery</li>
                    </ul>
                    <span class="status ready">Ready</span>
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üß™ Test Instructions</h2>
            <div class="demo-content">
                <h3>To test the new features:</h3>
                <ol>
                    <li><strong>Open Project Manager</strong> from the main menu (Tools ‚Üí Project Manager)</li>
                    <li><strong>Create or open a project</strong> and add some text files (.txt, .fasta, .gff, .csv, etc.)</li>
                    <li><strong>Right-click on a text file</strong> to access the context menu</li>
                    <li><strong>Test Preview:</strong> Select "Preview" to open the file preview panel</li>
                    <li><strong>Test Edit Mode:</strong> Switch to "Edit" mode and make changes</li>
                    <li><strong>Test File Operations:</strong> Try rename, duplicate, and other file operations</li>
                    <li><strong>Test Bulk Operations:</strong> Select multiple files to see bulk action bar</li>
                </ol>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üéõÔ∏è Feature Test Controls</h2>
            
            <h3>Text File Types Supported:</h3>
            <div class="demo-content">
                <strong>Bioinformatics:</strong> .fasta, .fa, .fas, .fna, .gff, .gff3, .gtf, .bed, .vcf, .sam, .newick<br>
                <strong>Data:</strong> .txt, .log, .csv, .tsv, .json, .xml<br>
                <strong>Code:</strong> .html, .css, .js, .py, .r, .sh, .sql<br>
                <strong>Config:</strong> .yaml, .yml, .ini, .cfg, .conf
            </div>
            
            <h3>Keyboard Shortcuts in Preview/Edit Mode:</h3>
            <div class="demo-content">
                <strong>Ctrl+S</strong> - Save changes<br>
                <strong>Ctrl+Z</strong> - Revert changes<br>
                <strong>Esc</strong> - Close preview panel<br>
                <strong>Tab</strong> - Insert 4 spaces (in edit mode)
            </div>
            
            <h3>Context Menu Operations:</h3>
            <div class="demo-content">
                <strong>Preview</strong> - Open file in preview mode<br>
                <strong>Edit</strong> - Open file in edit mode<br>
                <strong>Rename</strong> - Rename file with inline editor<br>
                <strong>Duplicate</strong> - Create a copy of the file<br>
                <strong>Copy Path</strong> - Copy file path to clipboard<br>
                <strong>Show in Explorer</strong> - Open file location<br>
                <strong>Delete</strong> - Remove file from project
            </div>
        </div>
        
        <div class="test-section">
            <h2>üìä Test Status</h2>
            <div id="testResults">
                <div class="test-result info">
                    Ready to test! Open the Project Manager to begin testing the new features.
                </div>
            </div>
            
            <button class="btn" onclick="showTestResults()">üìã Show Implementation Details</button>
            <button class="btn" onclick="openProjectManager()">üóÇÔ∏è Open Project Manager</button>
        </div>
    </div>

    <script>
        function showTestResults() {
            const resultsDiv = document.getElementById('testResults');
            
            const details = `
                <div class="test-result success">
                    ‚úÖ TextFilePreviewManager.js - Text file preview and editing core functionality
                </div>
                <div class="test-result success">
                    ‚úÖ ProjectManagerWindow.js - Enhanced with file management methods
                </div>
                <div class="test-result success">
                    ‚úÖ project-manager.html - Updated with preview panel UI and context menus
                </div>
                <div class="test-result success">
                    ‚úÖ main.js - Added IPC handlers for file operations
                </div>
                <div class="test-result success">
                    ‚úÖ preload.js - Exposed new file management APIs
                </div>
                <div class="test-result info">
                    üìù Features implemented:
                    ‚Ä¢ Text file preview (head/tail/full/range)
                    ‚Ä¢ Real-time text editing with change tracking  
                    ‚Ä¢ File operations (rename, duplicate, delete)
                    ‚Ä¢ Context menus and bulk operations
                    ‚Ä¢ Syntax highlighting for bioinformatics formats
                    ‚Ä¢ Keyboard shortcuts and file system sync
                </div>
            `;
            
            resultsDiv.innerHTML = details;
        }
        
        function openProjectManager() {
            if (window.electronAPI) {
                // This would be called from the main application
                alert('Open Project Manager from the main Genome AI Studio menu: Tools ‚Üí Project Manager');
            } else {
                alert('This test page needs to be run in the Electron environment.\nPlease run it from the main Genome AI Studio application.');
            }
        }
        
        // Show initial implementation status
        showTestResults();
    </script>
</body>
</html> 