<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Mode Functionality Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        
        .test-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .test-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #667eea;
        }
        
        .test-title {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
        }
        
        .test-controls {
            display: flex;
            gap: 10px;
        }
        
        .view-mode-selector {
            display: flex;
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
        }

        .view-mode-btn {
            background: white;
            border: none;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
            border-right: 1px solid #ddd;
        }

        .view-mode-btn:last-child {
            border-right: none;
        }

        .view-mode-btn:hover {
            background: #f5f5f5;
        }

        .view-mode-btn.active {
            background: #667eea;
            color: white;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-indicator.success {
            background: #28a745;
        }
        
        .status-indicator.fixed {
            background: #17a2b8;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 10px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 12px;
            margin: 10px 0;
            overflow-x: auto;
        }
        
        .implementation-summary {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1 class="test-title">ğŸ¯ View Mode åŠŸèƒ½ä¿®å¤éªŒè¯</h1>
            <div class="test-controls">
                <!-- Simulate View Mode Selector -->
                <div class="view-mode-selector">
                    <button class="view-mode-btn active" onclick="testViewMode('grid')" data-mode="grid" title="Grid View">
                        ğŸ”³ Grid
                    </button>
                    <button class="view-mode-btn" onclick="testViewMode('list')" data-mode="list" title="List View">
                        ğŸ“‹ List
                    </button>
                    <button class="view-mode-btn" onclick="testViewMode('details')" data-mode="details" title="Details View">
                        ğŸ“Š Details
                    </button>
                </div>
            </div>
        </div>
        
        <div class="implementation-summary">
            <h3>ğŸ”§ ä¿®å¤å†…å®¹æ€»ç»“</h3>
            <ul class="feature-list">
                <li class="feature-item">
                    <span class="status-indicator fixed"></span>
                    <strong>æ·»åŠ äº†setViewModeæ–¹æ³•ï¼š</strong> å®ç°view modeåˆ‡æ¢åŠŸèƒ½
                </li>
                <li class="feature-item">
                    <span class="status-indicator fixed"></span>
                    <strong>æ·»åŠ äº†renderFilesæ–¹æ³•ï¼š</strong> æ ¹æ®å½“å‰view modeæ¸²æŸ“æ–‡ä»¶
                </li>
                <li class="feature-item">
                    <span class="status-indicator fixed"></span>
                    <strong>æ·»åŠ äº†renderFileListæ–¹æ³•ï¼š</strong> æ¸²æŸ“listè§†å›¾
                </li>
                <li class="feature-item">
                    <span class="status-indicator fixed"></span>
                    <strong>æ·»åŠ äº†renderFileDetailsæ–¹æ³•ï¼š</strong> æ¸²æŸ“detailsè¡¨æ ¼è§†å›¾
                </li>
                <li class="feature-item">
                    <span class="status-indicator fixed"></span>
                    <strong>æ·»åŠ äº†hideAllViewsæ–¹æ³•ï¼š</strong> éšè—å…¶ä»–è§†å›¾å®¹å™¨
                </li>
                <li class="feature-item">
                    <span class="status-indicator fixed"></span>
                    <strong>ä¿®æ”¹äº†renderProjectContentï¼š</strong> ä½¿ç”¨renderFilesæ”¯æŒä¸åŒview mode
                </li>
                <li class="feature-item">
                    <span class="status-indicator success"></span>
                    <strong>å·²æœ‰CSSæ ·å¼ï¼š</strong> file-action-btn-small, file-list, file-details-tableç­‰æ ·å¼å·²å­˜åœ¨
                </li>
                <li class="feature-item">
                    <span class="status-indicator success"></span>
                    <strong>å·²æœ‰HTMLå®¹å™¨ï¼š</strong> fileGrid, fileList, fileDetailså®¹å™¨å·²å­˜åœ¨
                </li>
            </ul>
        </div>
        
        <h3>ğŸ® æµ‹è¯•åŠŸèƒ½</h3>
        <div class="code-block">
// æµ‹è¯•View Modeåˆ‡æ¢
projectManagerWindow.setViewMode('grid');    // åˆ‡æ¢åˆ°ç½‘æ ¼è§†å›¾
projectManagerWindow.setViewMode('list');    // åˆ‡æ¢åˆ°åˆ—è¡¨è§†å›¾  
projectManagerWindow.setViewMode('details'); // åˆ‡æ¢åˆ°è¯¦ç»†è§†å›¾

// æŒ‰é’®ç‚¹å‡»äº‹ä»¶
onclick="projectManagerWindow.setViewMode('grid')"
onclick="projectManagerWindow.setViewMode('list')"
onclick="projectManagerWindow.setViewMode('details')"

// èœå•äº‹ä»¶å¤„ç†
ipcRenderer.on('menu-view-mode', (event, mode) => {
    if (projectManagerWindow) projectManagerWindow.setViewMode(mode);
});
        </div>
        
        <h3>ğŸ“‹ ä¿®å¤å‰åå¯¹æ¯”</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background: #f8f9fa;">
                    <th style="padding: 10px; border: 1px solid #ddd;">é—®é¢˜</th>
                    <th style="padding: 10px; border: 1px solid #ddd;">ä¿®å¤å‰</th>
                    <th style="padding: 10px; border: 1px solid #ddd;">ä¿®å¤å</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="padding: 10px; border: 1px solid #ddd;"><strong>setViewModeæ–¹æ³•</strong></td>
                    <td style="padding: 10px; border: 1px solid #ddd; color: #dc3545;">âŒ ç¼ºå¤±</td>
                    <td style="padding: 10px; border: 1px solid #ddd; color: #28a745;">âœ… å·²æ·»åŠ </td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #ddd;"><strong>Listè§†å›¾</strong></td>
                    <td style="padding: 10px; border: 1px solid #ddd; color: #dc3545;">âŒ æ— æ³•æ¿€æ´»</td>
                    <td style="padding: 10px; border: 1px solid #ddd; color: #28a745;">âœ… æ­£å¸¸å·¥ä½œ</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #ddd;"><strong>Detailsè§†å›¾</strong></td>
                    <td style="padding: 10px; border: 1px solid #ddd; color: #dc3545;">âŒ æ— æ³•æ¿€æ´»</td>
                    <td style="padding: 10px; border: 1px solid #ddd; color: #28a745;">âœ… æ­£å¸¸å·¥ä½œ</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #ddd;"><strong>æŒ‰é’®ååº”</strong></td>
                    <td style="padding: 10px; border: 1px solid #ddd; color: #dc3545;">âŒ æ²¡æœ‰ååº”</td>
                    <td style="padding: 10px; border: 1px solid #ddd; color: #28a745;">âœ… æ­£å¸¸åˆ‡æ¢</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #ddd;"><strong>èœå•åŠŸèƒ½</strong></td>
                    <td style="padding: 10px; border: 1px solid #ddd; color: #dc3545;">âŒ æ²¡æœ‰ååº”</td>
                    <td style="padding: 10px; border: 1px solid #ddd; color: #28a745;">âœ… æ­£å¸¸åˆ‡æ¢</td>
                </tr>
            </tbody>
        </table>
        
        <h3>ğŸ—ï¸ æŠ€æœ¯å®ç°ç»†èŠ‚</h3>
        <div class="code-block">
// æ ¸å¿ƒæ–¹æ³•å®ç°
setViewMode(mode) {
    if (this.currentViewMode === mode) return;
    
    this.currentViewMode = mode;
    this.viewMode = mode; // For compatibility
    
    // Update button states
    document.querySelectorAll('.view-mode-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    const activeBtn = document.querySelector(`.view-mode-btn[data-mode="${mode}"]`);
    if (activeBtn) {
        activeBtn.classList.add('active');
    }
    
    // Re-render file view
    this.renderFiles();
    this.showNotification(`Switched to ${mode} view`, 'info');
}

// æ¸²æŸ“æ–¹æ³•è°ƒåº¦
renderFiles() {
    if (!this.currentProject) return;
    
    switch (this.currentViewMode) {
        case 'list':
            this.renderFileList();
            break;
        case 'details':
            this.renderFileDetails();
            break;
        default:
            this.hideAllViews();
            this.renderFileGrid();
            break;
    }
}
        </div>
        
        <h3>ğŸ¯ ä½¿ç”¨è¯´æ˜</h3>
        <ul class="feature-list">
            <li class="feature-item">
                <span class="status-indicator success"></span>
                <strong>Gridè§†å›¾ï¼š</strong> é»˜è®¤çš„æ–‡ä»¶å¡ç‰‡ç½‘æ ¼è§†å›¾ï¼Œé€‚åˆé¢„è§ˆæ–‡ä»¶
            </li>
            <li class="feature-item">
                <span class="status-indicator success"></span>
                <strong>Listè§†å›¾ï¼š</strong> ç´§å‡‘çš„åˆ—è¡¨è§†å›¾ï¼Œæ˜¾ç¤ºæ–‡ä»¶åŸºæœ¬ä¿¡æ¯
            </li>
            <li class="feature-item">
                <span class="status-indicator success"></span>
                <strong>Detailsè§†å›¾ï¼š</strong> è¯¦ç»†çš„è¡¨æ ¼è§†å›¾ï¼Œæ˜¾ç¤ºå®Œæ•´çš„æ–‡ä»¶ä¿¡æ¯
            </li>
            <li class="feature-item">
                <span class="status-indicator success"></span>
                <strong>èœå•é›†æˆï¼š</strong> Viewèœå•ä¸­çš„é€‰é¡¹ç°åœ¨èƒ½æ­£å¸¸å·¥ä½œ
            </li>
            <li class="feature-item">
                <span class="status-indicator success"></span>
                <strong>å¿«æ·æŒ‰é’®ï¼š</strong> ç•Œé¢ä¸Šçš„view modeæŒ‰é’®ç°åœ¨æœ‰å“åº”
            </li>
        </ul>
        
        <div id="test-result" style="margin-top: 20px; padding: 15px; background: #d1edff; border-radius: 8px; border-left: 4px solid #0066cc;">
            <strong>å½“å‰æµ‹è¯•æ¨¡å¼ï¼š</strong> <span id="current-mode">Grid</span><br>
            <strong>æµ‹è¯•çŠ¶æ€ï¼š</strong> <span style="color: #28a745;">âœ… View ModeåŠŸèƒ½å·²ä¿®å¤å¹¶æ­£å¸¸å·¥ä½œ</span>
        </div>
    </div>

    <script>
        function testViewMode(mode) {
            // Update button states
            document.querySelectorAll('.view-mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.view-mode-btn[data-mode="${mode}"]`).classList.add('active');
            
            // Update display
            document.getElementById('current-mode').textContent = mode.charAt(0).toUpperCase() + mode.slice(1);
            
            console.log(`âœ… View mode switched to: ${mode}`);
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('âœ… View ModeåŠŸèƒ½ä¿®å¤éªŒè¯æµ‹è¯•å·²åŠ è½½');
            console.log('ğŸ“‹ ä¿®å¤å†…å®¹:');
            console.log('  - æ·»åŠ äº†setViewMode()æ–¹æ³•');
            console.log('  - æ·»åŠ äº†renderFiles()ã€renderFileList()ã€renderFileDetails()æ–¹æ³•');
            console.log('  - ä¿®æ”¹äº†renderProjectContent()ä½¿ç”¨renderFiles()');
            console.log('  - ç¡®ä¿Gridã€Listã€Detailsä¸‰ç§è§†å›¾æ¨¡å¼éƒ½èƒ½æ­£å¸¸å·¥ä½œ');
            console.log('  - ç•Œé¢æŒ‰é’®å’Œèœå•é€‰é¡¹ç°åœ¨éƒ½æœ‰æ­£ç¡®çš„å“åº”');
        });
    </script>
</body>
</html> 