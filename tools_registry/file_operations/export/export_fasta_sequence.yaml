name: export_fasta_sequence
version: 1.0.0
description: Export genome sequences in FASTA format to specified file path
category: file_operations
keywords:
  - export
  - fasta
  - sequence
  - genome
priority: 1
execution:
  type: client
  timeout: 60000
  retries: 2
  requires_auth: false
  requires_data: true
  requires_network: false
parameters:
  type: object
  properties:
    filePath:
      type: string
      description: Absolute path where to save the FASTA file
      examples:
        - "/path/to/export/genome.fasta"
        - "/data/sequences.fa"
        - "/output/chromosome.fasta"
    chromosome:
      type: string
      description: Specific chromosome to export (optional, exports all if not specified)
      examples:
        - "chr1"
        - "chromosome1"
        - "NC_000913"
    startPosition:
      type: number
      description: Start position for sequence export (1-based, optional)
      minimum: 1
    endPosition:
      type: number
      description: End position for sequence export (1-based, optional)
      minimum: 1
    lineLength:
      type: number
      description: Number of characters per line in FASTA output
      default: 80
      minimum: 1
      maximum: 1000
    includeDescription:
      type: boolean
      description: Whether to include sequence descriptions in headers
      default: true
    upperCase:
      type: boolean
      description: Whether to output sequences in uppercase
      default: false
    removeGaps:
      type: boolean
      description: Whether to remove gap characters (N, -, etc.)
      default: false
    overwrite:
      type: boolean
      description: Whether to overwrite existing file
      default: false
    clientId:
      type: string
      description: Browser client ID for multi-window support
      default: "default"
  required:
    - filePath

# High-quality examples for few-shot learning
sample_usages:
  - user_query: "Export entire genome as FASTA to /data/genome.fasta"
    tool_call: "export_fasta_sequence(filePath='/data/genome.fasta')"
    thought: "User wants to export the complete genome in FASTA format"
    expected_result: "Complete genome exported to FASTA file"

  - user_query: "Export chromosome chr1 to /output/chr1.fasta with 60 chars per line"
    tool_call: "export_fasta_sequence(filePath='/output/chr1.fasta', chromosome='chr1', lineLength=60)"
    thought: "User wants to export specific chromosome with custom line length"
    expected_result: "Chromosome chr1 exported with 60 characters per line"

  - user_query: "Export region 10000-50000 of chr1 in uppercase"
    tool_call: "export_fasta_sequence(filePath='/data/region.fasta', chromosome='chr1', startPosition=10000, endPosition=50000, upperCase=true)"
    thought: "User wants to export specific genomic region in uppercase"
    expected_result: "Genomic region exported in uppercase FASTA format"

  - user_query: "Export sequence without gaps and descriptions"
    tool_call: "export_fasta_sequence(filePath='/clean/sequence.fasta', removeGaps=true, includeDescription=false)"
    thought: "User wants clean sequence export without gaps or descriptions"
    expected_result: "Clean sequence exported without gaps or descriptions"

  - user_query: "Export sequence and overwrite existing file"
    tool_call: "export_fasta_sequence(filePath='/data/genome.fasta', overwrite=true)"
    thought: "User wants to export sequence and replace existing file"
    expected_result: "Sequence exported and existing file overwritten"

# Tool relationships and dependencies
relationships:
  depends_on: ["load_genome_file"]
  conflicts_with: []
  enhances: []
  alternatives: ["export_genbank_format", "export_current_view_fasta"]
  prerequisites: ["load_genome_file"]
  follow_up: []

# Performance and usage statistics
metadata:
  usage_count: 0
  success_rate: 0.0
  avg_execution_time: 0
  last_used: null
  tags: ["file", "export", "fasta", "sequence", "genome"]
  complexity: "simple"
  usage_pattern: "common"

# Error handling
error_handling:
  no_genome_loaded: "Returns error if no genome data is loaded"
  invalid_path: "Returns error if file path is invalid or not writable"
  invalid_region: "Returns error if start/end positions are invalid"
  chromosome_not_found: "Returns error if specified chromosome does not exist"
  permission_denied: "Returns error if cannot write to specified location"
  file_exists: "Returns error if file exists and overwrite is false"
  disk_space: "Returns error if insufficient disk space for export"

# Return value specification
returns:
  success: "boolean - Whether export was successful"
  file_path: "string - Path of the exported FASTA file"
  sequences_exported: "number - Number of sequences exported"
  total_length: "number - Total length of exported sequences"
  chromosomes: "array - List of chromosomes exported"
  file_size: "number - Size of exported file in bytes"
  export_time: "number - Time taken to export in milliseconds"
  line_length: "number - Characters per line used in output"
  format_options: "object - Format options applied during export"
  region_info: "object - Information about exported region if applicable"
  error_message: "string - Error message if export failed"